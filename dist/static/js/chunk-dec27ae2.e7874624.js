(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dec27ae2"],{2728:function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"matchdata",staticClass:"login-form",attrs:{model:t.matchdata,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h5",{staticClass:"title"},[t._v("计算公式")])]),t._v(" "),r("h4",{staticClass:"title"},[t._v("角色")]),t._v(" "),r("el-form-item",{attrs:{prop:"role_factor"}},[r("el-input",{ref:"role_factor",attrs:{name:"role_factor",type:"number",tabindex:"1","auto-complete":"off"},model:{value:t.matchdata.role_factor,callback:function(a){t.$set(t.matchdata,"role_factor",a)},expression:"matchdata.role_factor"}}),t._v("\n      %\n    ")],1),t._v(" "),r("h6",{staticClass:"title"},[t._v("身材【当前用户】*身材【目标用户】")]),t._v(" "),r("el-form-item",{attrs:{prop:"prefer_factor"}},[r("el-input",{ref:"prefer_factor",attrs:{name:"prefer_factor",type:"number",tabindex:"1","auto-complete":"off"},model:{value:t.matchdata.prefer_factor,callback:function(a){t.$set(t.matchdata,"prefer_factor",a)},expression:"matchdata.prefer_factor"}}),t._v("\n              %\n\n    ")],1),t._v(" "),r("h4",{staticClass:"title"},[t._v("星座")]),t._v(" "),r("el-form-item",{attrs:{prop:"con_factor"}},[r("el-input",{ref:"con_factor",attrs:{name:"con_factor",type:"number",tabindex:"1","auto-complete":"off"},model:{value:t.matchdata.con_factor,callback:function(a){t.$set(t.matchdata,"con_factor",a)},expression:"matchdata.con_factor"}}),t._v("\n              %\n\n    ")],1),t._v(" "),r("h4",{staticClass:"title"},[t._v("基型【性格因子】")]),t._v(" "),r("el-form-item",{attrs:{prop:"chara_factor"}},[r("el-input",{ref:"chara_factor",attrs:{name:"chara_factor",type:"number",tabindex:"1","auto-complete":"off"},model:{value:t.matchdata.chara_factor,callback:function(a){t.$set(t.matchdata,"chara_factor",a)},expression:"matchdata.chara_factor"}}),t._v("\n              %\n\n    ")],1),t._v(" "),r("h4",{staticClass:"title"},[t._v("基型【兴趣因子】")]),t._v(" "),r("el-form-item",{attrs:{prop:"int_factor"}},[r("el-input",{ref:"int_factor",attrs:{name:"int_factor",type:"number",tabindex:"1","auto-complete":"off"},model:{value:t.matchdata.int_factor,callback:function(a){t.$set(t.matchdata,"int_factor",a)},expression:"matchdata.int_factor"}}),t._v("\n              %\n\n    ")],1),t._v(" "),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(a){return a.preventDefault(),t.handleLogin(a)}}},[t._v("保存")])],1)],1)},c=[],o=(r("c5f6"),r("db72")),n=(r("96cf"),r("3b8d")),i=(r("61f7"),r("852c")),f={name:"Login",data:function(){var t=function(t,a,r){a||r(new Error("请输入比例")),r()};return{matchdata:{role_factor:0,prefer_factor:0,con_factor:0,chara_factor:0,int_factor:0},loginRules:{role_factor:[{required:!0,trigger:"blur",validator:t}],con_factor:[{required:!0,trigger:"blur",validator:t}],prefer_factor:[{required:!0,trigger:"blur",validator:t}],int_factor:[{required:!0,trigger:"blur",validator:t}],chara_factor:[{required:!0,trigger:"blur",validator:t}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},created:function(){this.get_match_ratio()},methods:{get_match_ratio:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["c"])();case 3:a=t.sent,this.matchdata.role_factor=a.data.role_factor,this.matchdata.prefer_factor=a.data.prefer_factor,this.matchdata.con_factor=a.data.con_factor,this.matchdata.chara_factor=a.data.chara_factor,this.matchdata.int_factor=a.data.int_factor,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function a(){return t.apply(this,arguments)}return a}(),set_match_ratio:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["f"])(Object(o["a"])({},this.matchdata));case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function a(){return t.apply(this,arguments)}return a}(),showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;this.$refs.matchdata.validate((function(a){return a?Number(t.matchdata.role_factor)+Number(t.matchdata.prefer_factor)+Number(t.matchdata.con_factor)+Number(t.matchdata.chara_factor)+Number(t.matchdata.int_factor)!=100?(t.$message({type:"warning",message:"总和不为100"}),!1):(t.loading=!0,t.set_match_ratio(),t.loading=!1,void t.$message({type:"success",message:"修改成功"})):(console.log("error submit!!"),!1)}))}}},s=f,u=(r("3dd6"),r("f312"),r("2877")),l=Object(u["a"])(s,e,c,!1,null,"1f48d098",null);a["default"]=l.exports},"3dd6":function(t,a,r){"use strict";var e=r("9930"),c=r.n(e);c.a},"430f":function(t,a,r){},"852c":function(t,a,r){"use strict";r.d(a,"a",(function(){return c})),r.d(a,"b",(function(){return o})),r.d(a,"c",(function(){return n})),r.d(a,"f",(function(){return i})),r.d(a,"e",(function(){return f})),r.d(a,"g",(function(){return s})),r.d(a,"d",(function(){return u}));var e=r("b775");r("4328");function c(t){return Object(e["a"])({url:"/tool/get_match_factor",method:"get",params:t})}function o(t){return Object(e["a"])({url:"/tool/get_match_factor2",method:"get",params:t})}function n(t){return Object(e["a"])({url:"/tool/get_match_ratio",method:"get",params:t})}function i(t){return Object(e["a"])({url:"/tool/set_match_ratio",method:"get",params:t})}function f(t){return Object(e["a"])({url:"/tool/set_match_factor2",method:"get",params:t})}function s(t){return Object(e["a"])({url:"/tool/update_match_factor",method:"get",params:t})}function u(){return Object(e["a"])({url:"/tool/refresh_all_match",method:"get"})}},9930:function(t,a,r){},f312:function(t,a,r){"use strict";var e=r("430f"),c=r.n(e);c.a}}]);