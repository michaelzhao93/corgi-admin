{"remainingRequest":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/views/dataCenter/userTrace/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/views/dataCenter/userTrace/index.vue","mtime":1587565912000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getUserTrace } from '@/api/dataCenter'\nimport specifyCommon from '../mixins/specifyCommon'\nimport pageConfig from './pageConfig'\nexport default {\n  mixins: [specifyCommon],\n  data() {\n    return {\n      ...pageConfig\n    }\n  },\n  methods: {\n    async getChartData(type, date) {\n      const [startDate, endDate] = date.map(item => this.$day(item).format('YYYY-MM-DD'))\n      const result = await getUserTrace({ startDate, endDate })\n      return result.hasOwnProperty('data') && Array.isArray(result.data) ? this.parseData(result.data) : []\n    },\n    parseData(data) {\n      const parseData = {}\n      data.forEach(({ date, time, type }) => {\n        if (date && !parseData.hasOwnProperty(date)) {\n          parseData[date] = {}\n        }\n        if (date && (type || type === 0)) {\n          parseData[date][type] = time\n        }\n      })\n      return Object.entries(parseData).map(([date, dataMap]) => {\n        const temp = { date }\n        Object.entries(dataMap).forEach(([key, value]) => {\n          temp[key] = value\n        })\n        return temp\n      })\n    }\n  }\n}\n",null]}