{"remainingRequest":"/Users/zhaoguanglin/corgi-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoguanglin/corgi-admin/src/components/Userinfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoguanglin/corgi-admin/src/components/Userinfo/index.vue","mtime":1587648914000},{"path":"/Users/zhaoguanglin/corgi-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/corgi-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/corgi-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/corgi-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\nimport Checkstatus from '@/components/Checkstatus'\nimport Deleteimage from '@/components/Deleteimage'\nimport Nickname from './Nickname'\nimport Userdesc from './Userdesc'\nimport UpdateUserStatus from './UpdateUserStatus'\nimport { parseImageStatus, emit } from '@/mixins/commonSet'\nimport { agreeNickname, agreeDesc } from '@/api/contentMgr'\nimport { checkedText } from '@/utils/const'\n\nexport default {\n  components: { Nickname, Userdesc, UpdateUserStatus, Checkstatus, Deleteimage },\n  mixins: [parseImageStatus, emit],\n  data() {\n    return {\n      show: false,\n      loadingMap: {\n        dialogLoading: true\n      },\n      deleteMouseIndex: null\n    }\n  },\n  computed: {\n    ...mapGetters({\n      'userShow': 'userShow',\n      'userInfo': 'userInfo'\n    })\n  },\n  watch: {\n    show(value) {\n      !value && this.setShow(false)\n    },\n    userShow(value) {\n      this.show = !!value\n    }\n  },\n  methods: {\n    ...mapMutations('userInfo', {\n      'setShow': 'SET_SHOW'\n    }),\n    ...mapActions('userInfo', {\n      'getUserInfo': 'getUserInfo'\n    }),\n    async initModule() {\n      try {\n        this.loadingMap.dialogLoading = true\n        await this.getUserInfo()\n      } catch (err) {\n        console.log(err)\n      } finally {\n        this.loadingMap.dialogLoading = false\n      }\n    },\n    handleDialogClose() {\n      this.show = false\n    },\n    async recheck(type, shouldDo) {\n      try {\n        await this.$msgbox.confirm(`确定要进行该操作`, `删除${type}`, {\n          confirmButtonText: '删除',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        await this[shouldDo]()\n        this.initModule()\n      } catch (err) {\n        err !== 'cancel' && console.error(err)\n      }\n    },\n    async clearNickname() {\n      const { userId } = this.userInfo\n      const nickname = checkedText\n      await agreeNickname({ userId, nickname })\n    },\n    async clearDesc() {\n      const { userId } = this.userInfo\n      const desc = checkedText\n      await agreeDesc({ userId, desc })\n    }\n  }\n}\n",null]}