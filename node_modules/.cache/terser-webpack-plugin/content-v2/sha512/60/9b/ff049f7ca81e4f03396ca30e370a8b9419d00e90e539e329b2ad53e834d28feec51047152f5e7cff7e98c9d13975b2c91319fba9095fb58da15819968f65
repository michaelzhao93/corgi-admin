{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0303da8a\"],{\"35a9\":function(t,e,a){\"use strict\";var r=a(\"768b\"),i=(a(\"ffc1\"),a(\"ac6a\"),a(\"7346\"));e[\"a\"]={mixins:[i[\"c\"]],watch:{$route:function(){this.reload()}},mounted:function(){var t=this;this.$nextTick((function(){return t.addTabelHeightListener(\"parent\")})),this.reload()},methods:{sortUserId:function(t,e){return t.userId-e.userId},searchData:function(){this.resetPagination()},reload:function(){var t=this,e=this.$route.params,a=e.shouldChangeForm,i=e.rewriteForm;a&&Object.entries(i).forEach((function(e){var a=Object(r[\"a\"])(e,2),i=a[0],n=a[1];return t.$set(t.searchForm,i,n)})),this.getData()}}}},\"45e3\":function(t,e,a){},d84f:function(t,e,a){\"use strict\";var r=a(\"45e3\"),i=a.n(r);i.a},e33a:function(t,e,a){\"use strict\";a(\"f6b3\"),a(\"ac6a\"),a(\"456d\");var r=a(\"9abb\"),i={components:{Paginationtpl:r[\"a\"]},data:function(){return{pagination:{page:1,pageSize:10},paginationTotal:0}},watch:{pagination:{handler:function(){this.getData()},deep:!0}},methods:{resetPagination:function(){this.pagination={page:1,pageSize:10}}}};e[\"a\"]={mixins:[i],data:function(){return{refMap:{table:\"mainTable\"},tableData:[],catchedDataArr:[],catchedData:{},catchedRadio:null,tableSelected:!1,tableHeight:200,extraHeight:110,loadingMap:{tableLoading:!1},visibleMap:{tableVisible:!1},renderMap:{tableRender:!1},switchMap:{getDataOnRender:!0}}},computed:{isTableRadioSelected:function(){return Object.keys(this.catchedData).length},isTableCheckBoxSelected:function(){return this.catchedDataArr.length>0}},mounted:function(){Reflect.has(this,\"getData\")&&this.switchMap.getDataOnRender&&this.getData()},watch:{\"loadingMap.tableLoading\":function(t){var e=this;t||this.$nextTick((function(){var t=e.$refs[e.refMap.table];t&&t.doLayout()}))}},methods:{handleTableCheckBoxSelect:function(t){this.catchedDataArr=t,this.tableSelected=this.$refs[this.refMap.table].selection.length>0},handleTabelRadioClick:function(t){this.catchedRadio=t,this.catchedData=this.tableData[t]},handleTableItemClick:function(t){this.catchedData=t},setTableHeightBySelf:function(){var t=this.minTableHeight,e=void 0===t?0:t,a=this.$refs[this.searchRef],r=a&&a.$el.clientHeight||0,i=this.$el.clientHeight-this.extraHeight-r;this.tableHeight=i<e?e:i},setTableHeightByParent:function(){var t=this.minTableHeight,e=void 0===t?0:t,a=this.$refs[this.searchRef],r=a&&a.$el.clientHeight||0,i=this.$parent.$el.clientHeight-this.extraHeight-r;this.tableHeight=i<e?e:i},watchResizeFinish:function(t,e){var a=this;return clearTimeout(e),e=setTimeout((function(){return new Promise((function(e){a.renderMap.tableRender=!0,e(t()),a.$nextTick((function(){setTimeout((function(){a.renderMap.tableRender=!1}),100)}))}))}),100),e},addTabelHeightListener:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"self\",r=\"self\"===a?this.$el:this.$parent.$el,i=\"self\"===a?this.setTableHeightBySelf:this.setTableHeightByParent;this.$erd.listenTo(r,(function(a){e.renderMap.tableRender||(t=e.watchResizeFinish(i,t))}))},isTableSelected:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"请先选择需要修改的数据\";return!(!this.isTableRadioSelected&&!this.isTableCheckBoxSelected)||(this.$message({type:\"warning\",message:t}),!1)},formatColumn:function(t,e,a,r){return null===a||\"\"===a||void 0===a?\"--\":a}},beforeDestroy:function(){this.$erd.removeAllListeners(this.$el)}}},f6b3:function(t,e,a){var r=a(\"5ca1\");r(r.S,\"Reflect\",{has:function(t,e){return e in t}})},f6f5:function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"contentMgr-report\"},[a(\"div\",{staticClass:\"flex search-bar\"},[a(\"el-form\",{ref:t.searchRef,staticClass:\"flex-wrap filter\",attrs:{model:t.searchForm,rules:t.formRules}},[a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"审核状态\",prop:\"status\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择审核状态\"},model:{value:t.searchForm.reportStatus,callback:function(e){t.$set(t.searchForm,\"reportStatus\",e)},expression:\"searchForm.reportStatus\"}},t._l(t.allReportStatus,(function(t,e){return a(\"el-option\",{key:\"user-check-status-\"+e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"search-btnGroup flex\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.searchData}},[t._v(\"搜索\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.resetForm}},[t._v(\"重置\")])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"page-desc\"},[t._v(t._s(t.$route.meta.title)+\"：展示所有历史累计活动信息以及管理（注意：删除活动将物理删除，无法恢复。）\")]),t._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loadingMap.tableLoading,expression:\"loadingMap.tableLoading\"}],ref:t.refMap.table,staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:!0,\"header-cell-style\":{textAlign:\"center\"},height:t.tableHeight}},[a(\"el-table-column\",{attrs:{sortable:\"\",label:\"举报人ID\",formatter:t.formatColumn,align:\"center\",prop:\"reportUserId\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"userid\",{attrs:{id:t.row.reportUserId}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"举报类型\",formatter:t.formatColumn,align:\"center\",prop:\"accuseType\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"被举报用户ID/活动ID\",align:\"center\",prop:\"accuseId\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(t.allReportType[e.row.accuseType],{tag:\"span\",attrs:{id:e.row.accuseId}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"举报原因\",formatter:t.formatColumn,align:\"center\",prop:\"reason\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"举报描述\",formatter:t.formatColumn,align:\"center\",prop:\"desc\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"是否上传图片\",formatter:t.formatColumn,align:\"center\",prop:\"pics\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{domProps:{textContent:t._s(e.row.pics.length?\"是\":\"否\")}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"审核状态\",align:\"center\",width:\"120\",prop:\"reportStatus\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"report-status\",{attrs:{status:t.row.reportStatus}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"220\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-row\",{attrs:{type:\"flex\",justify:\"center\",align:\"middle\"}},[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return t.handleReportDetail(e.row)}}},[t._v(\"查看详情\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\"},on:{click:function(a){return t.showStatusDialog(e.row)}}},[t._v(\"处理完成\")])],1)]}}])})],1),t._v(\" \"),a(\"paginationtpl\",{attrs:{pagination:t.pagination,\"pagination-total\":t.paginationTotal}}),t._v(\" \"),a(\"detail\",{attrs:{\"use-data\":t.catchedData,visible:t.visibleMap.detailDiaVisible},on:{\"update:visible\":function(e){return t.$set(t.visibleMap,\"detailDiaVisible\",e)}}}),t._v(\" \"),a(\"Status-dialog\",{attrs:{\"use-data\":t.catchedData,visible:t.visibleMap.statusDialogVisible},on:{\"update:visible\":function(e){return t.$set(t.visibleMap,\"statusDialogVisible\",e)},emitFunc:t.acceptEmitFunc}})],1)},i=[],n=(a(\"ac6a\"),a(\"5df3\"),a(\"96cf\"),a(\"3b8d\")),s=a(\"db72\"),o=a(\"13e7\"),l=a(\"28b9\"),c=a(\"69c0\"),u=a(\"27aa\"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"dialog-report\"},[a(\"el-dialog\",{attrs:{title:\"举报详情\",top:\"8vh\",visible:t.show,width:\"600px\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.show=e}}},[a(\"div\",{staticClass:\"detail-dialog-wrap\"},[a(\"vue-scroll\",[a(\"el-form\",{ref:\"form\",attrs:{model:t.useData,\"label-width\":\"140px\"}},[a(\"el-form-item\",{attrs:{label:\"举报编号\",prop:\"id\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.id||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报人ID\",prop:\"reportUserId\"}},[a(\"userid\",{attrs:{id:t.useData.reportUserId}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报人昵称\",prop:\"reportUserName\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.reportUserName||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"被举报用户/活动ID\",prop:\"accuseId\"}},[a(t.allReportType[t.useData.accuseType],{tag:\"span\",attrs:{id:t.useData.accuseId}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报类型\",prop:\"accuseType\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.accuseType||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报标题\",prop:\"accuseName\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.accuseName||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报说明\",prop:\"desc\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.desc||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报原因\",prop:\"reason\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.reason||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"举报处理状态\",prop:\"reportStatus\"}},[a(\"report-status\",{attrs:{status:t.useData.reportStatus}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"创建时间\",prop:\"ctime\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.ctime||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"更新时间\",prop:\"uptime\"}},[a(\"span\",{domProps:{textContent:t._s(t.useData.uptime||\"--\")}})]),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"上传图片\",prop:\"pics\"}},[a(\"div\",{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:{movable:!0},expression:\"{movable: true}\"}],staticClass:\"flex report-img\"},t._l(t.useData.pics,(function(t,e){return a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:t,expression:\"imgUrl\"}],key:\"detail-report-img-\"+e,staticClass:\"img-item\"})})),0)])],1)],1)],1)])],1)},d=[],h=a(\"37b6\"),f=a(\"7346\"),m={components:{ReportStatus:u[\"a\"],Userid:l[\"a\"],Activityid:c[\"a\"]},mixins:[f[\"d\"]],props:{useData:{type:Object,default:function(){return{}}}},data:function(){return{allReportType:h[\"f\"]}}},b=m,v=(a(\"d84f\"),a(\"2877\")),g=Object(v[\"a\"])(b,p,d,!1,null,null,null),D=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"el-dialog\",{attrs:{title:\"举报处理完成\",visible:t.show,width:\"600px\",top:\"30vh\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.show=e},open:t.initModule}},[a(\"el-radio-group\",{model:{value:t.reportStatus,callback:function(e){t.reportStatus=e},expression:\"reportStatus\"}},t._l(t.statusOptions,(function(e,r){return a(\"el-radio\",{key:\"status-option-\"+r,attrs:{label:e.label}},[t._v(t._s(e.text))])})),1),t._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:t.handleDialogClose}},[t._v(\"关闭\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\",size:\"mini\"},on:{click:t.submitReportStatus}},[t._v(\"处理完成\")])],1)],1)},_=[],x={mixins:[f[\"d\"]],props:{useData:{type:Object,default:function(){return{}}}},data:function(){return{statusOptions:[{label:\"normal\",text:\"正常\"},{label:\"checked\",text:\"有问题\"}],reportStatus:\"normal\"}},methods:{initModule:function(){this.reportStatus=\"normal\"},submitReportStatus:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=this.useData.id,r=this.reportStatus,t.next=5,Object(o[\"C\"])({reportId:a,status:r});case 5:this.handleDialogClose(),this.$emit(\"emitFunc\",{function:\"getData\",arguments:[]}),t.next=12;break;case 9:t.prev=9,t.t0=t[\"catch\"](0),console.error(t.t0);case 12:case\"end\":return t.stop()}}),t,this,[[0,9]])})));function e(e){return t.apply(this,arguments)}return e}()}},y=x,R=Object(v[\"a\"])(y,w,_,!1,null,null,null),k=R.exports,S=a(\"e33a\"),C=a(\"35a9\"),T={searchForm:{reportStatus:\"\"},formRules:{}},$={components:{ReportStatus:u[\"a\"],Detail:D,StatusDialog:k,Userid:l[\"a\"],Activityid:c[\"a\"]},mixins:[S[\"a\"],f[\"a\"],C[\"a\"]],data:function(){return Object(s[\"a\"])(Object(s[\"a\"])({allReportStatus:h[\"e\"],allReportType:h[\"f\"]},T),{},{visibleMap:{censorDiaVisible:!1,detailDiaVisible:!1,statusDialogVisible:!1}})},methods:{getData:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingMap.tableLoading=!0,e=[this.getReport(),this.getReportCount()],t.next=5,Promise.all(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](0),console.log(t.t0);case 10:return t.prev=10,this.loadingMap.tableLoading=!1,t.finish(10);case 13:case\"end\":return t.stop()}}),t,this,[[0,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}(),getReport:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o[\"u\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),this.pagination));case 3:e=t.sent,this.tableData=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](0),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getReportCount:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o[\"k\"])(Object(s[\"a\"])({},this.searchForm));case 3:e=t.sent,this.paginationTotal=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](0),console.log(t.t0);case 10:case\"end\":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),handleReportDetail:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.catchedData=e,this.visibleMap.detailDiaVisible=!0;case 2:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showStatusDialog:function(){var t=Object(n[\"a\"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.catchedData=e,this.visibleMap.statusDialogVisible=!0;case 2:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},M=$,O=Object(v[\"a\"])(M,r,i,!1,null,null,null);e[\"default\"]=O.exports}}]);","extractedComments":[]}