{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7f4e01f1\"],{\"35a9\":function(e,t,a){\"use strict\";var n=a(\"768b\"),i=(a(\"ffc1\"),a(\"ac6a\"),a(\"7346\"));t[\"a\"]={mixins:[i[\"c\"]],watch:{$route:function(){this.reload()}},mounted:function(){var e=this;this.$nextTick((function(){return e.addTabelHeightListener(\"parent\")})),this.reload()},methods:{sortUserId:function(e,t){return e.userId-t.userId},searchData:function(){this.resetPagination()},reload:function(){var e=this,t=this.$route.params,a=t.shouldChangeForm,i=t.rewriteForm;a&&Object.entries(i).forEach((function(t){var a=Object(n[\"a\"])(t,2),i=a[0],r=a[1];return e.$set(e.searchForm,i,r)})),this.getData()}}}},\"69c0\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{class:[e.id&&\"pointer\"],domProps:{textContent:e._s(e.id||\"--\")},on:{click:function(t){return e.handleActivityIdClick(e.id)}}})},i=[],r=a(\"db72\"),s=a(\"2f62\"),c={props:{id:{type:String,default:\"\"}},methods:Object(r[\"a\"])(Object(r[\"a\"])({},Object(s[\"d\"])(\"activityInfo\",{setShow:\"SET_SHOW\",setActivityId:\"SET_ACTIVITY_ID\"})),{},{handleActivityIdClick:function(e){e&&(this.setActivityId(e),this.setShow(!0))}})},o=c,l=a(\"2877\"),u=Object(l[\"a\"])(o,n,i,!1,null,null,null);t[\"a\"]=u.exports},81221:function(e,t,a){\"use strict\";var n=a(\"aa73\"),i=a.n(n);i.a},aa73:function(e,t,a){},b2ba:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"contentMgr-activityImage\"},[a(\"div\",{staticClass:\"flex search-bar\"},[a(\"el-form\",{ref:e.searchRef,staticClass:\"flex-wrap filter\",attrs:{model:e.searchForm,rules:e.formRules}},[a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"审核状态\",prop:\"status\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择审核状态\"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,\"status\",t)},expression:\"searchForm.status\"}},e._l(e.allCensorshipTypes,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"search-btnGroup flex\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.searchData}},[e._v(\"搜索\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.resetForm}},[e._v(\"重置\")])],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"page-desc\"},[e._v(e._s(e.$route.meta.title)+\"：仅活动照片自动审核未通过的将进入此板块集中处理\")]),e._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loadingMap.tableLoading,expression:\"loadingMap.tableLoading\"},{name:\"viewer\",rawName:\"v-viewer\",value:{movable:!0},expression:\"{movable: true}\"}],ref:e.tableRef,staticClass:\"main-table\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:!0,\"header-cell-style\":{textAlign:\"center\"},height:e.tableHeight,\"default-sort\":{prop:\"userId\",order:\"ascending\"}}},[a(\"el-table-column\",{attrs:{sortable:\"\",label:\"活动ID\",align:\"center\",prop:\"userId\",\"sort-method\":e.sortUserId},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"activityid\",{attrs:{id:e.row.userId}})]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{\"min-width\":\"220\",label:\"照片\",align:\"center\",prop:\"image\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:e.row.picUrl,expression:\"scope.row.picUrl\"}],staticClass:\"avator-img\"})]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"照片上传时间\",align:\"center\",prop:\"ctime\",formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"审核状态\",align:\"center\",prop:\"ctime\",formatter:e.formatColumn,width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"censorshipstatus\",{attrs:{status:e.row.status}})]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"200\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[\"check\"===t.row.status?a(\"el-button\",{attrs:{type:\"success\",size:\"mini\"},on:{click:function(a){return e.checkPicPass(t)}}},[e._v(\"通过\")]):e._e(),e._v(\" \"),\"failed\"!==t.row.status?a(\"el-button\",{attrs:{type:\"danger\",size:\"mini\"},on:{click:function(a){return e.checkPicRefuse(t)}}},[e._v(\"不通过\")]):e._e(),e._v(\" \"),\"failed\"===t.row.status?a(\"el-button\",{attrs:{type:\"info\",disabled:\"\",size:\"mini\"}},[e._v(\"已删除\")]):e._e()]}}])})],1),e._v(\" \"),a(\"paginationtpl\",{attrs:{pagination:e.pagination,\"pagination-total\":e.paginationTotal}})],1)},i=[],r=(a(\"7514\"),a(\"ac6a\"),a(\"5df3\"),a(\"96cf\"),a(\"3b8d\")),s=a(\"db72\"),c=a(\"13e7\"),o=a(\"aea5\"),l=a(\"69c0\"),u=a(\"e33a\"),h=a(\"35a9\"),d=a(\"37b6\"),p={searchForm:{status:\"\"},formRules:{},censorType:\"activity\"},f={components:{Censorshipstatus:o[\"a\"],Activityid:l[\"a\"]},mixins:[u[\"a\"],h[\"a\"]],data:function(){return Object(s[\"a\"])({allCensorshipTypes:d[\"c\"]},p)},methods:{getData:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingMap.tableLoading=!0,t=[this.getCheckPic(),this.getCheckPicCount()],e.next=5,Promise.all(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](0),console.log(e.t0);case 10:return e.prev=10,this.loadingMap.tableLoading=!1,e.finish(10);case 13:case\"end\":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(){return e.apply(this,arguments)}return t}(),getCheckPic:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.censorType,e.next=4,Object(c[\"q\"])(Object(s[\"a\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),this.pagination),{},{type:t}));case 4:a=e.sent,this.tableData=a.data.map((function(e){return e.ctime=e.ctime.slice(0,-2),e.uptime=e.uptime.slice(0,-2),e})),e.next=11;break;case 8:e.prev=8,e.t0=e[\"catch\"](0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getCheckPicCount:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.censorType,e.next=4,Object(c[\"i\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),{},{type:t}));case 4:a=e.sent,this.paginationTotal=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e[\"catch\"](0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),parseCensorshipType:function(e){var t=this.allCensorshipTypes.find((function(t){return t.value===e}));return t&&t.label||\"--\"},checkPicPass:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.row.dataId,n=this.censorType,i=-1,e.next=6,Object(c[\"t\"])({dataId:a,type:n,userId:i});case 6:this.$message({type:\"success\",message:\"操作成功\"}),this.getData(),e.next=13;break;case 10:e.prev=10,e.t0=e[\"catch\"](0),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),checkPicRefuse:function(){var e=Object(r[\"a\"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$msgbox.confirm(\"确定不通过该图片\",\"提醒\",{confirmButtonText:\"删除\",cancelButtonText:\"取消\",type:\"warning\",dangerouslyUseHTMLString:!0});case 3:return a=t.row.dataId,n=this.censorType,i=-1,e.next=8,Object(c[\"w\"])({dataId:a,type:n,userId:i});case 8:this.$message({type:\"success\",message:\"操作成功\"}),this.getData(),e.next=15;break;case 12:e.prev=12,e.t0=e[\"catch\"](0),\"cancel\"!==e.t0&&console.error(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}()}},m=f,b=(a(\"81221\"),a(\"2877\")),g=Object(b[\"a\"])(m,n,i,!1,null,null,null);t[\"default\"]=g.exports},e33a:function(e,t,a){\"use strict\";a(\"ac6a\"),a(\"456d\");var n=a(\"9abb\"),i={components:{Paginationtpl:n[\"a\"]},data:function(){return{pagination:{page:1,pageSize:10},paginationTotal:0}},watch:{pagination:{handler:function(){this.getData()},deep:!0}},methods:{resetPagination:function(){this.pagination={page:1,pageSize:10}}}};t[\"a\"]={mixins:[i],data:function(){return{tableRef:\"mainTable\",tableData:[],catchedDataArr:[],catchedData:{},catchedRadio:null,tableSelected:!1,tableHeight:200,extraHeight:110,loadingMap:{tableLoading:!0}}},computed:{isTableRadioSelected:function(){return Object.keys(this.catchedData).length},isTableCheckBoxSelected:function(){return this.catchedDataArr.length>0}},methods:{handleTableCheckBoxSelect:function(e){this.catchedDataArr=e,this.tableSelected=this.$refs[this.tableRef].selection.length>0},handleTabelRadioClick:function(e){this.catchedRadio=e,this.catchedData=this.tableData[e]},handleTableItemClick:function(e){this.catchedData=e},setTableHeightBySelf:function(){var e=this.$refs[this.searchRef],t=e&&e.$el.clientHeight||0;this.tableHeight=this.$el.clientHeight-this.extraHeight-t},setTableHeightByParent:function(){var e=this.$refs[this.searchRef],t=e&&e.$el.clientHeight||0;this.tableHeight=this.$parent.$el.clientHeight-this.extraHeight-t},watchResizeFinish:function(e,t){return t&&clearTimeout(t),t=setTimeout((function(){return new Promise((function(t){return t(e())}))}),300),t},addTabelHeightListener:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"self\",n=\"self\"===a?this.$el:this.$parent.$el,i=\"self\"===a?this.setTableHeightBySelf:this.setTableHeightByParent;this.$erd.listenTo(n,(function(a){e=t.watchResizeFinish(i,e)}))},isTableSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"请先选择需要修改的数据\";return!(!this.isTableRadioSelected&&!this.isTableCheckBoxSelected)||(this.$message({type:\"warning\",message:e}),!1)},formatColumn:function(e,t,a,n){return null===a||\"\"===a||void 0===a?\"--\":a}},beforeDestroy:function(){this.$erd.removeAllListeners(this.$el)}}}}]);","extractedComments":[]}