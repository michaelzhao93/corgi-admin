{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2ba47612\"],{\"35a9\":function(t,e,a){\"use strict\";var n=a(\"768b\"),i=(a(\"ffc1\"),a(\"ac6a\"),a(\"7346\"));e[\"a\"]={mixins:[i[\"c\"]],watch:{$route:function(){this.reload()}},mounted:function(){var t=this;this.$nextTick((function(){return t.addTabelHeightListener(\"parent\")})),this.reload()},methods:{sortUserId:function(t,e){return t.userId-e.userId},searchData:function(){this.resetPagination()},reload:function(){var t=this,e=this.$route.params,a=e.shouldChangeForm,i=e.rewriteForm;a&&Object.entries(i).forEach((function(e){var a=Object(n[\"a\"])(e,2),i=a[0],r=a[1];return t.$set(t.searchForm,i,r)})),this.getData()}}}},\"69c0\":function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{class:[t.id&&\"pointer\"],domProps:{textContent:t._s(t.id||\"--\")},on:{click:function(e){return t.handleActivityIdClick(t.id)}}})},i=[],r=a(\"db72\"),s=a(\"2f62\"),c={props:{id:{type:String,default:\"\"}},methods:Object(r[\"a\"])(Object(r[\"a\"])({},Object(s[\"d\"])(\"activityInfo\",{setShow:\"SET_SHOW\",setActivityId:\"SET_ACTIVITY_ID\"})),{},{handleActivityIdClick:function(t){t&&(this.setActivityId(t),this.setShow(!0))}})},o=c,l=a(\"2877\"),u=Object(l[\"a\"])(o,n,i,!1,null,null,null);e[\"a\"]=u.exports},81221:function(t,e,a){\"use strict\";var n=a(\"aa73\"),i=a.n(n);i.a},aa73:function(t,e,a){},aea5:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[\"check\"===t.status?a(\"el-tag\",{attrs:{type:\"warning\",size:\"mini\"},domProps:{textContent:t._s(t.parseText(t.status))}}):\"normal\"===t.status?a(\"el-tag\",{attrs:{type:\"success\",size:\"mini\"},domProps:{textContent:t._s(t.parseText(t.status))}}):\"failed\"===t.status?a(\"el-tag\",{attrs:{type:\"danger\",size:\"mini\"},domProps:{textContent:t._s(t.parseText(t.status))}}):a(\"span\",{domProps:{textContent:t._s(\"--\")}})],1)},i=[],r=(a(\"7514\"),a(\"37b6\")),s={props:{status:{type:String,default:\"\"}},methods:{parseText:function(t){var e=r[\"c\"].find((function(e){return e.value===t}));return e&&e.label||\"--\"}}},c=s,o=a(\"2877\"),l=Object(o[\"a\"])(c,n,i,!1,null,null,null);e[\"a\"]=l.exports},b2ba:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"contentMgr-activityImage\"},[a(\"div\",{staticClass:\"flex search-bar\"},[a(\"el-form\",{ref:t.searchRef,staticClass:\"flex-wrap filter\",attrs:{model:t.searchForm,rules:t.formRules}},[a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"审核状态\",prop:\"status\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择审核状态\"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,\"status\",e)},expression:\"searchForm.status\"}},t._l(t.allCensorshipTypes,(function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"search-btnGroup flex\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.searchData}},[t._v(\"搜索\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.resetForm}},[t._v(\"重置\")])],1)],1),t._v(\" \"),a(\"div\",{staticClass:\"page-desc\"},[t._v(t._s(t.$route.meta.title)+\"：仅活动照片自动审核未通过的将进入此板块集中处理\")]),t._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loadingMap.tableLoading,expression:\"loadingMap.tableLoading\"},{name:\"viewer\",rawName:\"v-viewer\",value:{movable:!0},expression:\"{movable: true}\"}],ref:t.refMap.table,staticClass:\"main-table\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:!0,\"header-cell-style\":{textAlign:\"center\"},height:t.tableHeight,\"default-sort\":{prop:\"userId\",order:\"ascending\"}}},[a(\"el-table-column\",{attrs:{sortable:\"\",label:\"活动ID\",align:\"center\",prop:\"userId\",\"sort-method\":t.sortUserId},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"activityid\",{attrs:{id:t.row.userId}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{\"min-width\":\"220\",label:\"照片\",align:\"center\",prop:\"image\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"img\",{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:t.row.picUrl,expression:\"scope.row.picUrl\"}],staticClass:\"avator-img\"})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"照片上传时间\",align:\"center\",prop:\"ctime\",formatter:t.formatColumn}}),t._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"审核状态\",align:\"center\",prop:\"ctime\",formatter:t.formatColumn,width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"censorshipstatus\",{attrs:{status:t.row.status}})]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"200\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[\"check\"===e.row.status?a(\"el-button\",{attrs:{type:\"success\",size:\"mini\"},on:{click:function(a){return t.checkPicPass(e)}}},[t._v(\"通过\")]):t._e(),t._v(\" \"),\"failed\"!==e.row.status?a(\"el-button\",{attrs:{type:\"danger\",size:\"mini\"},on:{click:function(a){return t.checkPicRefuse(e)}}},[t._v(\"不通过\")]):t._e(),t._v(\" \"),\"failed\"===e.row.status?a(\"el-button\",{attrs:{type:\"info\",disabled:\"\",size:\"mini\"}},[t._v(\"已删除\")]):t._e()]}}])})],1),t._v(\" \"),a(\"paginationtpl\",{attrs:{pagination:t.pagination,\"pagination-total\":t.paginationTotal}})],1)},i=[],r=(a(\"7514\"),a(\"ac6a\"),a(\"5df3\"),a(\"96cf\"),a(\"3b8d\")),s=a(\"db72\"),c=a(\"13e7\"),o=a(\"aea5\"),l=a(\"69c0\"),u=a(\"e33a\"),h=a(\"35a9\"),d=a(\"37b6\"),p={searchForm:{status:\"\"},formRules:{},censorType:\"activity\"},f={components:{Censorshipstatus:o[\"a\"],Activityid:l[\"a\"]},mixins:[u[\"a\"],h[\"a\"]],data:function(){return Object(s[\"a\"])({allCensorshipTypes:d[\"c\"]},p)},methods:{getData:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingMap.tableLoading=!0,e=[this.getCheckPic(),this.getCheckPicCount()],t.next=5,Promise.all(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t[\"catch\"](0),console.log(t.t0);case 10:return t.prev=10,this.loadingMap.tableLoading=!1,t.finish(10);case 13:case\"end\":return t.stop()}}),t,this,[[0,7,10,13]])})));function e(){return t.apply(this,arguments)}return e}(),getCheckPic:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.censorType,t.next=4,Object(c[\"q\"])(Object(s[\"a\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),this.pagination),{},{type:e}));case 4:a=t.sent,this.tableData=a.data.map((function(t){return t.ctime=t.ctime.slice(0,-2),t.uptime=t.uptime.slice(0,-2),t})),t.next=11;break;case 8:t.prev=8,t.t0=t[\"catch\"](0),console.log(t.t0);case 11:case\"end\":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getCheckPicCount:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=this.censorType,t.next=4,Object(c[\"i\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),{},{type:e}));case 4:a=t.sent,this.paginationTotal=a.data,t.next=11;break;case 8:t.prev=8,t.t0=t[\"catch\"](0),console.log(t.t0);case 11:case\"end\":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),parseCensorshipType:function(t){var e=this.allCensorshipTypes.find((function(e){return e.value===t}));return e&&e.label||\"--\"},checkPicPass:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.row.dataId,n=this.censorType,i=-1,t.next=6,Object(c[\"t\"])({dataId:a,type:n,userId:i});case 6:this.$message({type:\"success\",message:\"操作成功\"}),this.getData(),t.next=13;break;case 10:t.prev=10,t.t0=t[\"catch\"](0),console.log(t.t0);case 13:case\"end\":return t.stop()}}),t,this,[[0,10]])})));function e(e){return t.apply(this,arguments)}return e}(),checkPicRefuse:function(){var t=Object(r[\"a\"])(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$msgbox.confirm(\"确定不通过该图片\",\"提醒\",{confirmButtonText:\"删除\",cancelButtonText:\"取消\",type:\"warning\",dangerouslyUseHTMLString:!0});case 3:return a=e.row.dataId,n=this.censorType,i=-1,t.next=8,Object(c[\"w\"])({dataId:a,type:n,userId:i});case 8:this.$message({type:\"success\",message:\"操作成功\"}),this.getData(),t.next=15;break;case 12:t.prev=12,t.t0=t[\"catch\"](0),\"cancel\"!==t.t0&&console.error(t.t0);case 15:case\"end\":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}()}},b=f,m=(a(\"81221\"),a(\"2877\")),g=Object(m[\"a\"])(b,n,i,!1,null,null,null);e[\"default\"]=g.exports},e33a:function(t,e,a){\"use strict\";a(\"f6b3\"),a(\"ac6a\"),a(\"456d\");var n=a(\"9abb\"),i={components:{Paginationtpl:n[\"a\"]},data:function(){return{pagination:{page:1,pageSize:10},paginationTotal:0}},watch:{pagination:{handler:function(){this.getData()},deep:!0}},methods:{resetPagination:function(){this.pagination={page:1,pageSize:10}}}};e[\"a\"]={mixins:[i],data:function(){return{refMap:{table:\"mainTable\"},tableData:[],catchedDataArr:[],catchedData:{},catchedRadio:null,tableSelected:!1,tableHeight:200,extraHeight:110,loadingMap:{tableLoading:!1},visibleMap:{tableVisible:!1},renderMap:{tableRender:!1},switchMap:{getDataOnRender:!0}}},computed:{isTableRadioSelected:function(){return Object.keys(this.catchedData).length},isTableCheckBoxSelected:function(){return this.catchedDataArr.length>0}},mounted:function(){Reflect.has(this,\"getData\")&&this.switchMap.getDataOnRender&&this.getData()},watch:{\"loadingMap.tableLoading\":function(t){var e=this;t||this.$nextTick((function(){var t=e.$refs[e.refMap.table];t&&t.doLayout()}))}},methods:{handleTableCheckBoxSelect:function(t){this.catchedDataArr=t,this.tableSelected=this.$refs[this.refMap.table].selection.length>0},handleTabelRadioClick:function(t){this.catchedRadio=t,this.catchedData=this.tableData[t]},handleTableItemClick:function(t){this.catchedData=t},setTableHeightBySelf:function(){var t=this.minTableHeight,e=void 0===t?0:t,a=this.$refs[this.searchRef],n=a&&a.$el.clientHeight||0,i=this.$el.clientHeight-this.extraHeight-n;this.tableHeight=i<e?e:i},setTableHeightByParent:function(){var t=this.minTableHeight,e=void 0===t?0:t,a=this.$refs[this.searchRef],n=a&&a.$el.clientHeight||0,i=this.$parent.$el.clientHeight-this.extraHeight-n;this.tableHeight=i<e?e:i},watchResizeFinish:function(t,e){var a=this;return clearTimeout(e),e=setTimeout((function(){return new Promise((function(e){a.renderMap.tableRender=!0,e(t()),a.$nextTick((function(){setTimeout((function(){a.renderMap.tableRender=!1}),100)}))}))}),100),e},addTabelHeightListener:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"self\",n=\"self\"===a?this.$el:this.$parent.$el,i=\"self\"===a?this.setTableHeightBySelf:this.setTableHeightByParent;this.$erd.listenTo(n,(function(a){e.renderMap.tableRender||(t=e.watchResizeFinish(i,t))}))},isTableSelected:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"请先选择需要修改的数据\";return!(!this.isTableRadioSelected&&!this.isTableCheckBoxSelected)||(this.$message({type:\"warning\",message:t}),!1)},formatColumn:function(t,e,a,n){return null===a||\"\"===a||void 0===a?\"--\":a}},beforeDestroy:function(){this.$erd.removeAllListeners(this.$el)}}},f6b3:function(t,e,a){var n=a(\"5ca1\");n(n.S,\"Reflect\",{has:function(t,e){return e in t}})}}]);","extractedComments":[]}