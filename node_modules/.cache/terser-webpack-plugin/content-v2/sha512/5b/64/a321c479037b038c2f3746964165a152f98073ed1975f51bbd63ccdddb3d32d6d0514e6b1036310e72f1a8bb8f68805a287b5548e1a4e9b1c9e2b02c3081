{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-b8e0dbae\"],{\"35a9\":function(e,t,a){\"use strict\";var r=a(\"768b\"),n=(a(\"ffc1\"),a(\"ac6a\"),a(\"7346\"));t[\"a\"]={mixins:[n[\"c\"]],watch:{$route:function(){this.reload()}},mounted:function(){var e=this;this.$nextTick((function(){return e.addTabelHeightListener(\"parent\")})),this.reload()},methods:{sortUserId:function(e,t){return e.userId-t.userId},searchData:function(){this.resetPagination()},reload:function(){var e=this,t=this.$route.params,a=t.shouldChangeForm,n=t.rewriteForm;a&&Object.entries(n).forEach((function(t){var a=Object(r[\"a\"])(t,2),n=a[0],i=a[1];return e.$set(e.searchForm,n,i)})),this.getData()}}}},4667:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"contentMgr-user\"},[a(\"div\",{staticClass:\"flex search-bar\"},[a(\"el-form\",{ref:e.searchRef,staticClass:\"filter flex-wrap\",attrs:{model:e.searchForm,rules:e.formRules}},[a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"用户ID\",prop:\"userId\"}},[a(\"el-input\",{attrs:{type:\"text\",placeholder:\"请输入用户ID\"},model:{value:e.searchForm.userId,callback:function(t){e.$set(e.searchForm,\"userId\",t)},expression:\"searchForm.userId\"}})],1),e._v(\" \"),a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"用户昵称\",prop:\"nickname\"}},[a(\"el-input\",{attrs:{type:\"text\",placeholder:\"请输入用户昵称\"},model:{value:e.searchForm.nickname,callback:function(t){e.$set(e.searchForm,\"nickname\",t)},expression:\"searchForm.nickname\"}})],1),e._v(\" \"),a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"用户手机号\",prop:\"telNo\"}},[a(\"el-input\",{attrs:{type:\"text\",placeholder:\"请输入用户手机号\"},model:{value:e.searchForm.telNo,callback:function(t){e.$set(e.searchForm,\"telNo\",t)},expression:\"searchForm.telNo\"}})],1),e._v(\" \"),a(\"el-form-item\",{staticClass:\"flex filter-item\",attrs:{label:\"审核状态\",prop:\"checkStatus\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择审核状态\"},model:{value:e.searchForm.checkStatus,callback:function(t){e.$set(e.searchForm,\"checkStatus\",t)},expression:\"searchForm.checkStatus\"}},e._l(e.allCheckStatus,(function(e,t){return a(\"el-option\",{key:\"user-check-status-\"+t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"search-btnGroup flex\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.searchData}},[e._v(\"搜索\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.resetForm}},[e._v(\"重置\")])],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"page-desc\"},[e._v(e._s(e.$route.meta.title)+\"：展示所有历史累计用户信息以及管理，（注意：删除用户将物理删除，无法恢复。）\")]),e._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loadingMap.tableLoading,expression:\"loadingMap.tableLoading\"}],ref:e.refMap.table,staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:!0,\"header-cell-style\":{textAlign:\"center\"},height:e.tableHeight,\"default-sort\":{prop:\"userId\",order:\"ascending\"}}},[a(\"el-table-column\",{attrs:{sortable:\"\",label:\"用户ID\",align:\"center\",prop:\"userId\",width:\"150\",\"sort-method\":e.sortUserId,formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"用户昵称\",align:\"center\",prop:\"nickname\",formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"用户描述\",align:\"center\",prop:\"desc\",\"min-width\":\"200\",formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"用户手机号\",align:\"center\",prop:\"telNo\",formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"用户创建时间\",align:\"center\",prop:\"createTime\",formatter:e.formatColumn}}),e._v(\" \"),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"审核状态\",align:\"center\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"checkstatus\",{attrs:{status:e.row.checkStatus}})]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{width:\"200\",label:\"操作\",align:\"center\",prop:\"status\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-row\",{attrs:{type:\"flex\",justify:\"center\",align:\"middle\"}},[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleUserDetail(t.row)}}},[e._v(\"审查详情\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"danger\",size:\"mini\"},on:{click:function(a){return e.handleDeleteUser(t.row)}}},[e._v(\"删除账号\")])],1)]}}])})],1),e._v(\" \"),a(\"paginationtpl\",{attrs:{pagination:e.pagination,\"pagination-total\":e.paginationTotal}})],1)},n=[],i=(a(\"ac6a\"),a(\"5df3\"),a(\"96cf\"),a(\"3b8d\")),s=a(\"db72\"),c=a(\"2f62\"),l=a(\"13e7\"),o=a(\"769a\"),u=a(\"e33a\"),h=a(\"7346\"),d=a(\"35a9\"),f=a(\"37b6\"),p={searchForm:{userId:\"\",nickname:\"\",telNo:\"\",checkStatus:\"\"},formRules:{}},m={components:{Checkstatus:o[\"a\"]},mixins:[u[\"a\"],h[\"a\"],d[\"a\"]],data:function(){return Object(s[\"a\"])(Object(s[\"a\"])({},p),{},{allCheckStatus:f[\"d\"],visibleMap:{censorDiaVisible:!1}})},computed:{userShow:function(){return this.$store.getters.userShow}},watch:{userShow:function(e){!e&&this.getData()}},methods:Object(s[\"a\"])(Object(s[\"a\"])({},Object(c[\"d\"])(\"userInfo\",{setShow:\"SET_SHOW\",setUserId:\"SET_USER_ID\"})),{},{getData:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingMap.tableLoading=!0,t=[this.getUser(),this.getUserCount()],e.next=5,Promise.all(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](0),console.log(e.t0);case 10:return e.prev=10,this.loadingMap.tableLoading=!1,e.finish(10);case 13:case\"end\":return e.stop()}}),e,this,[[0,7,10,13]])})));function t(){return e.apply(this,arguments)}return t}(),getUser:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l[\"D\"])(Object(s[\"a\"])(Object(s[\"a\"])({},this.searchForm),this.pagination));case 3:t=e.sent,this.tableData=t.data.map((function(e){return\"string\"===typeof e.createTime&&(e.createTime=e.createTime.slice(0,-2)),e})),e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](0),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getUserCount:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l[\"m\"])(Object(s[\"a\"])({},this.searchForm));case 3:t=e.sent,this.paginationTotal=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e[\"catch\"](0),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),handleUserDetail:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.userId,a&&(this.setUserId(a),this.setShow(!0));case 2:case\"end\":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleDeleteUser:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$msgbox.confirm('确定删除用户ID：<span class=\"bold\">'.concat(t.userId,\"</span>\"),\"删除用户\",{confirmButtonText:\"删除\",cancelButtonText:\"取消\",type:\"warning\",dangerouslyUseHTMLString:!0});case 3:return a=t.userId,e.next=6,Object(l[\"o\"])({userId:a});case 6:this.$message({type:\"success\",message:\"删除成功\"}),this.getData(),e.next=13;break;case 10:e.prev=10,e.t0=e[\"catch\"](0),\"cancel\"!==e.t0&&console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()})},b=m,g=a(\"2877\"),v=Object(g[\"a\"])(b,r,n,!1,null,null,null);t[\"default\"]=v.exports},e33a:function(e,t,a){\"use strict\";a(\"f6b3\"),a(\"ac6a\"),a(\"456d\");var r=a(\"9abb\"),n={components:{Paginationtpl:r[\"a\"]},data:function(){return{pagination:{page:1,pageSize:10},paginationTotal:0}},watch:{pagination:{handler:function(){this.getData()},deep:!0}},methods:{resetPagination:function(){this.pagination={page:1,pageSize:10}}}};t[\"a\"]={mixins:[n],data:function(){return{refMap:{table:\"mainTable\"},tableData:[],catchedDataArr:[],catchedData:{},catchedRadio:null,tableSelected:!1,tableHeight:200,extraHeight:110,loadingMap:{tableLoading:!1},visibleMap:{tableVisible:!1},renderMap:{tableRender:!1},switchMap:{getDataOnRender:!0}}},computed:{isTableRadioSelected:function(){return Object.keys(this.catchedData).length},isTableCheckBoxSelected:function(){return this.catchedDataArr.length>0}},mounted:function(){Reflect.has(this,\"getData\")&&this.switchMap.getDataOnRender&&this.getData()},watch:{\"loadingMap.tableLoading\":function(e){var t=this;e||this.$nextTick((function(){var e=t.$refs[t.refMap.table];e&&e.doLayout()}))}},methods:{handleTableCheckBoxSelect:function(e){this.catchedDataArr=e,this.tableSelected=this.$refs[this.refMap.table].selection.length>0},handleTabelRadioClick:function(e){this.catchedRadio=e,this.catchedData=this.tableData[e]},handleTableItemClick:function(e){this.catchedData=e},setTableHeightBySelf:function(){var e=this.minTableHeight,t=void 0===e?0:e,a=this.$refs[this.searchRef],r=a&&a.$el.clientHeight||0,n=this.$el.clientHeight-this.extraHeight-r;this.tableHeight=n<t?t:n},setTableHeightByParent:function(){var e=this.minTableHeight,t=void 0===e?0:e,a=this.$refs[this.searchRef],r=a&&a.$el.clientHeight||0,n=this.$parent.$el.clientHeight-this.extraHeight-r;this.tableHeight=n<t?t:n},watchResizeFinish:function(e,t){var a=this;return clearTimeout(t),t=setTimeout((function(){return new Promise((function(t){a.renderMap.tableRender=!0,t(e()),a.$nextTick((function(){setTimeout((function(){a.renderMap.tableRender=!1}),100)}))}))}),100),t},addTabelHeightListener:function(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"self\",r=\"self\"===a?this.$el:this.$parent.$el,n=\"self\"===a?this.setTableHeightBySelf:this.setTableHeightByParent;this.$erd.listenTo(r,(function(a){t.renderMap.tableRender||(e=t.watchResizeFinish(n,e))}))},isTableSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"请先选择需要修改的数据\";return!(!this.isTableRadioSelected&&!this.isTableCheckBoxSelected)||(this.$message({type:\"warning\",message:e}),!1)},formatColumn:function(e,t,a,r){return null===a||\"\"===a||void 0===a?\"--\":a}},beforeDestroy:function(){this.$erd.removeAllListeners(this.$el)}}},f6b3:function(e,t,a){var r=a(\"5ca1\");r(r.S,\"Reflect\",{has:function(e,t){return t in e}})}}]);","extractedComments":[]}