{"remainingRequest":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/babel-loader/lib/index.js!/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/store/modules/activityInfo.js","dependencies":[{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/store/modules/activityInfo.js","mtime":1588171870000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _message = _interopRequireDefault(require(\"element-ui/lib/theme-chalk/message.css\"));\n\nrequire(\"element-ui/lib/theme-chalk/base.css\");\n\nvar _message2 = _interopRequireDefault(require(\"element-ui/lib/message\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/@babel/runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _contentMgr = require(\"@/api/contentMgr\");\n\nvar state = {\n  show: false,\n  activityId: '',\n  activityInfo: {},\n  activityUserInfo: {}\n};\nvar mutations = {\n  SET_SHOW: function SET_SHOW(state, value) {\n    state.show = value;\n  },\n  SET_ACTIVITY_ID: function SET_ACTIVITY_ID(state, value) {\n    state.activityId = value;\n  },\n  SET_ACTIVITY_INFO: function SET_ACTIVITY_INFO(state, value) {\n    state.activityInfo = value;\n  },\n  SET_ACTIVITY_USERINFO: function SET_ACTIVITY_USERINFO(state, value) {\n    state.activityUserInfo = value;\n  }\n};\nvar actions = {\n  getActivityInfo: function () {\n    var _getActivityInfo = (0, _asyncToGenerator2.default)( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var commit, dispatch, parmas, data;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit, dispatch = _ref.dispatch;\n              _context.prev = 1;\n              parmas = {\n                id: state.activityId,\n                page: 1,\n                pageSize: 10\n              };\n              _context.next = 5;\n              return (0, _contentMgr.queryActivity)(parmas);\n\n            case 5:\n              data = _context.sent;\n\n              if (Array.isArray(data.data) && data.data.length) {\n                commit('SET_ACTIVITY_INFO', data.data[0]);\n                dispatch('getUserInfo');\n              } else {\n                (0, _message2.default)({\n                  type: 'warning',\n                  message: '没有找到匹配活动'\n                });\n                commit('SET_ACTIVITY_INFO', {});\n              }\n\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    function getActivityInfo(_x) {\n      return _getActivityInfo.apply(this, arguments);\n    }\n\n    return getActivityInfo;\n  }(),\n  getUserInfo: function () {\n    var _getUserInfo = (0, _asyncToGenerator2.default)( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref2) {\n      var commit, parmas, data;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref2.commit;\n              _context2.prev = 1;\n              parmas = {\n                userId: state.activityInfo.userId,\n                page: 1,\n                pageSize: 10\n              };\n              _context2.next = 5;\n              return (0, _contentMgr.queryUser)(parmas);\n\n            case 5:\n              data = _context2.sent;\n\n              if (Array.isArray(data.data) && data.data.length) {\n                commit('SET_ACTIVITY_USERINFO', data.data[0]);\n              } else {\n                _Message({\n                  type: 'warning',\n                  message: '没有找到匹配用户'\n                });\n\n                commit('SET_ACTIVITY_USERINFO', {});\n              }\n\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    function getUserInfo(_x2) {\n      return _getUserInfo.apply(this, arguments);\n    }\n\n    return getUserInfo;\n  }()\n};\nvar _default = {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};\nexports.default = _default;",null]}