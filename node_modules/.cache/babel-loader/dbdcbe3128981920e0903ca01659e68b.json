{"remainingRequest":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/babel-loader/lib/index.js!/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/mixins/tableCommon.js","dependencies":[{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/src/mixins/tableCommon.js","mtime":1588171780000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/zhaoguanglin/Documents/corgi/corgi-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nvar _pagination = _interopRequireDefault(require(\"./pagination\"));\n\nvar _default = {\n  mixins: [_pagination.default],\n  data: function data() {\n    return {\n      tableRef: 'mainTable',\n      tableData: [],\n      catchedDataArr: [],\n      catchedData: {},\n      catchedRadio: null,\n      tableSelected: false,\n      tableHeight: 200,\n      extraHeight: 110,\n      loadingMap: {\n        tableLoading: true\n      }\n    };\n  },\n  computed: {\n    isTableRadioSelected: function isTableRadioSelected() {\n      return Object.keys(this.catchedData).length;\n    },\n    isTableCheckBoxSelected: function isTableCheckBoxSelected() {\n      return this.catchedDataArr.length > 0;\n    }\n  },\n  methods: {\n    handleTableCheckBoxSelect: function handleTableCheckBoxSelect(catchedDataArr) {\n      this.catchedDataArr = catchedDataArr;\n      this.tableSelected = this.$refs[this.tableRef].selection.length > 0;\n    },\n    handleTabelRadioClick: function handleTabelRadioClick(index) {\n      this.catchedRadio = index;\n      this.catchedData = this.tableData[index];\n    },\n    handleTableItemClick: function handleTableItemClick(catchedData) {\n      this.catchedData = catchedData;\n    },\n    setTableHeightBySelf: function setTableHeightBySelf() {\n      // 以自身容器高度设置table高度\n      var searchBar = this.$refs[this.searchRef];\n      var searchBarHei = searchBar && searchBar.$el.clientHeight || 0;\n      this.tableHeight = this.$el.clientHeight - this.extraHeight - searchBarHei;\n    },\n    setTableHeightByParent: function setTableHeightByParent() {\n      // 以父级容器高度设置table高度\n      var searchBar = this.$refs[this.searchRef];\n      var searchBarHei = searchBar && searchBar.$el.clientHeight || 0;\n      this.tableHeight = this.$parent.$el.clientHeight - this.extraHeight - searchBarHei;\n    },\n    watchResizeFinish: function watchResizeFinish(fn, timer) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(function () {\n        return new Promise(function (resolve) {\n          return resolve(fn());\n        });\n      }, 300);\n      return timer;\n    },\n    addTabelHeightListener: function addTabelHeightListener() {\n      var _this = this;\n\n      var isSelf = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'self';\n      var useEl = isSelf === 'self' ? this.$el : this.$parent.$el;\n      var useFunction = isSelf === 'self' ? this.setTableHeightBySelf : this.setTableHeightByParent;\n      var timer;\n      this.$erd.listenTo(useEl, function (element) {\n        timer = _this.watchResizeFinish(useFunction, timer);\n      });\n    },\n    isTableSelected: function isTableSelected() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '请先选择需要修改的数据';\n\n      // 成立条件：istableRadioSlected ==  true || this.isTableCheckBoxSelected == true\n      // 失败：提示message 并反馈false\n      if (this.isTableRadioSelected || this.isTableCheckBoxSelected) {\n        return true;\n      } else {\n        this.$message({\n          type: 'warning',\n          message: message\n        });\n        return false;\n      }\n    },\n    formatColumn: function formatColumn(row, cell, value, index) {\n      // 单元格为空值，默认显示'--'\n      return value === null || value === '' || value === void 0 ? '--' : value;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$erd.removeAllListeners(this.$el);\n  }\n};\nexports.default = _default;",null]}